<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Who is the Impostor?</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #0a0a1a, #120a25);
      color: #0ff;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding-top: 20px;
    }
    .glow {
      text-shadow: 0 0 12px #0ff, 0 0 24px #0ff;
      margin-bottom: 20px;
    }
    .container {
      width: 90%;
      max-width: 500px;
      text-align: center;
    }
    input, button {
      background: rgba(0, 20, 40, 0.85);
      color: #0ff;
      border: 1px solid #0ff;
      padding: 14px;
      margin: 12px 0;
      font-size: 18px;
      border-radius: 10px;
      width: 100%;
      box-sizing: border-box;
      transition: all 0.25s ease;
    }
    input:focus {
      outline: none;
      box-shadow: 0 0 15px #0ff;
    }
    button {
      cursor: pointer;
      font-weight: bold;
      letter-spacing: 1px;
    }
    button:hover {
      background: rgba(0, 40, 80, 0.95);
      box-shadow: 0 0 20px #0ff;
      transform: translateY(-2px);
    }
    .hidden { display: none; }
    .btn-group {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-top: 25px;
    }
    #langBtn {
      position: absolute;
      top: 15px;
      right: 15px;
      width: auto;
      padding: 8px 16px;
      font-size: 14px;
      border-radius: 20px;
      background: rgba(0, 10, 20, 0.7);
      border: 1px solid #0ff;
      color: #0ff;
    }
    #exibicao {
      min-height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 15px;
      margin: 20px 0;
      background: rgba(0, 10, 20, 0.5);
      border-radius: 12px;
      border: 1px solid #0ff;
    }
    #proximoJogador {
      font-size: 18px;
      margin: 15px 0;
      color: #fff;
    }
    h1 {
      font-size: 28px;
      margin-bottom: 25px;
    }
    p {
      font-size: 18px;
      margin: 15px 0;
    }
    .button-container {
      margin-top: 40px;
      margin-bottom: 20px;
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 100;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.9);
    }
    .modal-content {
      background: #0c0c1e;
      margin: 5% auto;
      padding: 25px;
      width: 90%;
      max-width: 500px;
      border: 1px solid #0ff;
      border-radius: 12px;
      color: #0ff;
      text-align: left;
    }
    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }
    .close:hover {
      color: #fff;
    }
    .rules-title {
      text-align: center;
      margin-bottom: 20px;
      color: #0ff;
      text-shadow: 0 0 10px #0ff;
    }
    .rules-text {
      line-height: 1.6;
    }
    ul, ol {
      margin: 10px 0;
      padding-left: 20px;
    }
    li {
      margin: 8px 0;
    }
  </style>
</head>
<body>
  <button id="langBtn" onclick="toggleLang()">üåê EN</button>

  <div class="container">
    <div id="tela1">
      <h1 class="glow">üé∞ Quem √© o Impostor? üé∞</h1>
      <p id="txt1">Escolha o n√∫mero de jogadores (3 a 50):</p>
      <input type="number" id="numJogadores" min="3" max="50" value="5" />
      <div class="button-container">
        <button onclick="iniciarJogo()">Pr√≥ximo</button>
      </div>
      <button onclick="abrirRegras()" style="background:rgba(20,20,40,0.8); margin-top:10px;">üìú Regras do Jogo</button>
    </div>

    <div id="tela2" class="hidden">
      <h2 class="glow" id="txt2">Clique para ver sua palavra</h2>
      <button id="btnRevelar" onclick="revelar()">Revelar Minha Palavra</button>
      <div id="exibicao"></div>
      <p id="proximoJogador"></p>
      <div class="button-container">
        <button onclick="voltarParaInicio()" style="background:rgba(30,0,10,0.85);">‚¨ÖÔ∏è Voltar</button>
      </div>
    </div>
  </div>

  <div id="modalRegras" class="modal">
    <div class="modal-content">
      <span class="close" onclick="fecharRegras()">&times;</span>
      <div id="rulesText" class="rules-text"></div>
    </div>
  </div>

  <script>
    let lang = navigator.language.startsWith('en') ? 'en' : 'pt';

    const textos = {
      pt: {
        title: "Quem √© o Impostor?",
        txt1: "Escolha o n√∫mero de jogadores (3 a 50):",
        txt2: "Clique para ver sua palavra",
        revealBtn: "Revelar Minha Palavra",
        next: "Pr√≥ximo: ",
        impostor: "IMPOSTOR",
        of: "de",
        discussion: "‚úÖ Todos viram suas palavras!<br>Agora discutam: Quem √© o Impostor?",
        newGame: "üîÑ Novo Jogo",
        newGroup: "üë• Novo Grupo",
        back: "‚¨ÖÔ∏è Voltar",
        langBtn: "üåê EN"
      },
      en: {
        title: "Who is the Impostor?",
        txt1: "Choose number of players (3 to 50):",
        txt2: "Click to see your word",
        revealBtn: "Reveal My Word",
        next: "Next: ",
        impostor: "IMPOSTOR",
        of: "of",
        discussion: "‚úÖ Everyone saw their words!<br>Now discuss: Who is the Impostor?",
        newGame: "üîÑ New Game",
        newGroup: "üë• New Group",
        back: "‚¨ÖÔ∏è Back",
        langBtn: "üåê PT"
      }
    };

    // üî• 44 TEMAS EXPANDIDOS ‚Äî +600 combina√ß√µes √∫nicas
    const temasFixos = [
      // Continentes & Geografia
      { dica: { pt: "Continentes", en: "Continents" }, 
        palavras: { 
          pt: ["√Åfrica", "Am√©rica", "√Åsia", "Europa", "Oceania", "Ant√°rtida"],
          en: ["Africa", "America", "Asia", "Europe", "Oceania", "Antarctica"]
        } 
      },
      { dica: { pt: "Pa√≠ses", en: "Countries" }, 
        palavras: { 
          pt: ["Brasil", "Mo√ßambique", "Egito", "Jap√£o", "Fran√ßa", "Canad√°", "√çndia", "Alemanha", "Estados Unidos", "China", "R√∫ssia", "Austr√°lia", "Qu√™nia", "Portugal", "√Åfrica do Sul"],
          en: ["Brazil", "Mozambique", "Egypt", "Japan", "France", "Canada", "India", "Germany", "United States", "China", "Russia", "Australia", "Kenya", "Portugal", "South Africa"]
        } 
      },
      { dica: { pt: "Cidade", en: "City" },
        palavras: { 
          pt: ["Maputo", "Paris", "T√≥quio", "Nova Iorque", "Londres", "Cairo", "S√£o Paulo", "Joanesburgo", "Berlim", "Roma", "Madrid", "Pequim", "Sydney", "Dubai", "Istambul"],
          en: ["Maputo", "Paris", "Tokyo", "New York", "London", "Cairo", "S√£o Paulo", "Johannesburg", "Berlin", "Rome", "Madrid", "Beijing", "Sydney", "Dubai", "Istanbul"]
        } 
      },
      { dica: { pt: "Rio", en: "River" },
        palavras: { 
          pt: ["Nilo", "Amazonas", "Mississippi", "Zambeze", "Dan√∫bio", "Ganges", "Yangtz√©", "Volga", "Rio Reno", "Sena", "T√¢misa", "Paran√°", "Congo", "Murray"],
          en: ["Nile", "Amazon", "Mississippi", "Zambezi", "Danube", "Ganges", "Yangtze", "Volga", "Rhine", "Seine", "Thames", "Paran√°", "Congo", "Murray"]
        } 
      },
      { dica: { pt: "Montanha", en: "Mountain" },
        palavras: { 
          pt: ["Everest", "Kilimanjaro", "Monte Fuji", "Alpes", "Andes", "Monte Roraima", "Table Mountain", "Atlas", "Monte Branco", "Monte McKinley", "Himalaia", "Drakensberg"],
          en: ["Everest", "Kilimanjaro", "Mount Fuji", "Alps", "Andes", "Mount Roraima", "Table Mountain", "Atlas", "Mont Blanc", "Denali", "Himalayas", "Drakensberg"]
        } 
      },

      // Animais
      { dica: { pt: "Animais Selvagens", en: "Wild Animals" }, 
        palavras: { 
          pt: ["Le√£o", "Elefante", "Tigre", "Girafa", "Zebra", "Hipop√≥tamo", "Rinoceronte", "Chimpanz√©", "Guepardo", "Jacar√©", "Urso", "Lobo", "Suricato", "Gnu"],
          en: ["Lion", "Elephant", "Tiger", "Giraffe", "Zebra", "Hippopotamus", "Rhinoceros", "Chimpanzee", "Cheetah", "Alligator", "Bear", "Wolf", "Meerkat", "Wildebeest"]
        } 
      },
      { dica: { pt: "Animais Marinhos", en: "Marine Animals" }, 
        palavras: { 
          pt: ["Tubar√£o", "Golfinho", "Baleia", "Polvo", "Arraia", "Peixe-palha√ßo", "Lula", "Caranguejo", "Orca", "Medusa", "Cavalo-marinho", "Tartaruga-marinha", "Estrela-do-mar"],
          en: ["Shark", "Dolphin", "Whale", "Octopus", "Ray", "Clownfish", "Squid", "Crab", "Orca", "Jellyfish", "Seahorse", "Sea Turtle", "Starfish"]
        } 
      },
      { dica: { pt: "Animais Dom√©sticos", en: "Pets" }, 
        palavras: { 
          pt: ["Cachorro", "Gato", "Coelho", "P√°ssaro", "Peixe", "Hamster", "Porquinho-da-√≠ndia", "Cavalo", "Papagaio", "Tartaruga", "Fur√£o", "Porco"],
          en: ["Dog", "Cat", "Rabbit", "Bird", "Fish", "Hamster", "Guinea Pig", "Horse", "Parrot", "Turtle", "Ferret", "Pig"]
        } 
      },

      // Marcas
      { dica: { pt: "Marca de aparelho", en: "Device brand" },
        palavras: { 
          pt: ["Apple", "Samsung", "Google", "Microsoft", "Sony", "LG", "Huawei", "Xiaomi", "Dell", "HP", "Lenovo", "Intel", "Nvidia", "Meta"],
          en: ["Apple", "Samsung", "Google", "Microsoft", "Sony", "LG", "Huawei", "Xiaomi", "Dell", "HP", "Lenovo", "Intel", "Nvidia", "Meta"]
        } 
      },
      { dica: { pt: "Marcas de Carros", en: "Car Brands" }, 
        palavras: { 
          pt: ["Toyota", "Ford", "BMW", "Mercedes", "Volkswagen", "Tesla", "Honda", "Ferrari", "Audi", "Hyundai", "Renault", "Chevrolet", "Porsche", "Land Rover"],
          en: ["Toyota", "Ford", "BMW", "Mercedes", "Volkswagen", "Tesla", "Honda", "Ferrari", "Audi", "Hyundai", "Renault", "Chevrolet", "Porsche", "Land Rover"]
        } 
      },
      { dica: { pt: "Marcas de Roupas", en: "Clothing Brands" }, 
        palavras: { 
          pt: ["Nike", "Adidas", "Puma", "Zara", "H&M", "Gucci", "Louis Vuitton", "Calvin Klein", "Levi's", "Uniqlo", "Balenciaga", "Prada", "Versace", "Chanel"],
          en: ["Nike", "Adidas", "Puma", "Zara", "H&M", "Gucci", "Louis Vuitton", "Calvin Klein", "Levi's", "Uniqlo", "Balenciaga", "Prada", "Versace", "Chanel"]
        } 
      },
      { dica: { pt: "Comida", en: "Food" },
        palavras: { 
          pt: ["Coca-Cola", "McDonald's", "Nestl√©", "Pepsi", "Kellogg's", "Unilever", "Danone", "Mars", "Kraft", "Heinz", "Red Bull", "Monster", "Lays", "Cadbury"],
          en: ["Coca-Cola", "McDonald's", "Nestl√©", "Pepsi", "Kellogg's", "Unilever", "Danone", "Mars", "Kraft", "Heinz", "Red Bull", "Monster", "Lays", "Cadbury"]
        } 
      },

      // Cultura Geral
      { dica: { pt: "Instrumentos Musicais", en: "Musical Instruments" }, 
        palavras: { 
          pt: ["Piano", "Guitarra", "Violino", "Bateria", "Flauta", "Saxofone", "Trompete", "Harpa", "Violoncelo", "√ìrg√£o", "Acorde√£o", "Banjo", "Didgeridoo", "Mbira"],
          en: ["Piano", "Guitar", "Violin", "Drums", "Flute", "Saxophone", "Trumpet", "Harp", "Cello", "Organ", "Accordion", "Banjo", "Didgeridoo", "Mbira"]
        } 
      },
      { dica: { pt: "Estilos Musicais", en: "Music Genres" }, 
        palavras: { 
          pt: ["Rock", "Pop", "Hip Hop", "Jazz", "Reggae", "Kizomba", "Marrabenta", "Cl√°ssica", "Samba", "Fado", "Afrobeats", "EDM", "Country", "Blues"],
          en: ["Rock", "Pop", "Hip Hop", "Jazz", "Reggae", "Kizomba", "Marrabenta", "Classical", "Samba", "Fado", "Afrobeats", "EDM", "Country", "Blues"]
        } 
      },
      { dica: { pt: "Profiss√µes", en: "Professions" }, 
        palavras: { 
          pt: ["M√©dico", "Professor", "Engenheiro", "Programador", "Enfermeiro", "Piloto", "Advogado", "Agricultor", "Arquiteto", "Jornalista", "Chef", "Policial", "Bombeiro", "Artista"],
          en: ["Doctor", "Teacher", "Engineer", "Programmer", "Nurse", "Pilot", "Lawyer", "Farmer", "Architect", "Journalist", "Chef", "Police Officer", "Firefighter", "Artist"]
        } 
      },
      { dica: { pt: "Religi√£o", en: "Religion" },
        palavras: { 
          pt: ["Cristianismo", "Islamismo", "Hindu√≠smo", "Budismo", "Juda√≠smo", "Animismo", "Siquismo", "Xinto√≠smo", "Bah√° º√≠", "Jainismo", "Zoroastrismo", "Espiritismo"],
          en: ["Christianity", "Islam", "Hinduism", "Buddhism", "Judaism", "Animism", "Sikhism", "Shinto", "Bah√° º√≠", "Jainism", "Zoroastrianism", "Spiritism"]
        } 
      },
      { dica: { pt: "Idiomas", en: "Languages" }, 
        palavras: { 
          pt: ["Portugu√™s", "Ingl√™s", "Espanhol", "Franc√™s", "√Årabe", "Mandarim", "Alem√£o", "Italiano", "Russo", "Japon√™s", "Coreano", "Holand√™s", "Sua√≠li", "Xichangana"],
          en: ["Portuguese", "English", "Spanish", "French", "Arabic", "Mandarin", "German", "Italian", "Russian", "Japanese", "Korean", "Dutch", "Swahili", "Xichangana"]
        } 
      },
      { dica: { pt: "Comida", en: "Food" },
        palavras: { 
          pt: ["Pizza", "Sushi", "Feijoada", "Hamb√∫rguer", "Piri-piri", "Macarr√£o", "Arroz", "Batata Frita", "Tacos", "Curry", "P√£o", "Queijo", "Chocolate", "Pudim"],
          en: ["Pizza", "Sushi", "Feijoada", "Hamburger", "Piri-piri", "Pasta", "Rice", "French Fries", "Tacos", "Curry", "Bread", "Cheese", "Chocolate", "Pudding"]
        } 
      },

      // Esportes
      { dica: { pt: "Esportes", en: "Sports" },
        palavras: { 
          pt: ["Futebol", "Basquetebol", "T√©nis", "Nata√ß√£o", "Atletismo", "Voleibol", "Gin√°stica", "Boxe", "Jud√¥", "Ciclismo", "Remo", "Esgrima", "Handebol", "R√∫gbi"],
          en: ["Football", "Basketball", "Tennis", "Swimming", "Athletics", "Volleyball", "Gymnastics", "Boxing", "Judo", "Cycling", "Rowing", "Fencing", "Handball", "Rugby"]
        } 
      },
      { dica: { pt: "Equipamentos Esportivos", en: "Sports Equipment" }, 
        palavras: { 
          pt: ["Bola", "Raquete", "Taco", "Capacete", "Patins", "Rede", "Luva", "T√™nis", "√ìculos", "Protetor", "Cinto", "Bicicleta", "Prancha", "Arco"],
          en: ["Ball", "Racket", "Bat", "Helmet", "Skates", "Net", "Glove", "Sneakers", "Goggles", "Guard", "Belt", "Bicycle", "Board", "Bow"]
        } 
      },

      // Ci√™ncia
      { dica: { pt: "Elementos Qu√≠micos", en: "Chemical Elements" }, 
        palavras: { 
          pt: ["Oxig√™nio", "Hidrog√™nio", "Carbono", "Ouro", "Ferro", "Prata", "Cobre", "Nitrog√™nio", "H√©lio", "S√≥dio", "Cloro", "Merc√∫rio", "Chumbo", "Zinco"],
          en: ["Oxygen", "Hydrogen", "Carbon", "Gold", "Iron", "Silver", "Copper", "Nitrogen", "Helium", "Sodium", "Chlorine", "Mercury", "Lead", "Zinc"]
        } 
      },
      { dica: { pt: "Sistema Solar", en: "Solar System" },
        palavras: { 
          pt: ["Merc√∫rio", "V√™nus", "Terra", "Marte", "J√∫piter", "Saturno", "Urano", "Netuno", "Plut√£o", "Lua", "Sol"],
          en: ["Mercury", "Venus", "Earth", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune", "Pluto", "Moon", "Sun"]
        } 
      },
      { dica: { pt: "Inventores", en: "Inventors" }, 
        palavras: { 
          pt: ["Edison", "Tesla", "Newton", "Da Vinci", "Curie", "Bell", "Jobs", "Berners-Lee", "Galileu", "Einstein", "Darwin", "Pasteur", "Volta", "Franklin"],
          en: ["Edison", "Tesla", "Newton", "Da Vinci", "Curie", "Bell", "Jobs", "Berners-Lee", "Galileo", "Einstein", "Darwin", "Pasteur", "Volta", "Franklin"]
        } 
      },

      // Entretenimento
      { dica: { pt: "Filmes", en: "Movies" },
        palavras: { 
          pt: ["Titanic", "Avatar", "Matrix", "Pantera Negra", "Interestelar", "Forrest Gump", "Toy Story", "Harry Potter", "Senhor dos An√©is", "Vingadores", "Jurassic Park", "Star Wars", "Pulp Fiction", "Coringa"],
          en: ["Titanic", "Avatar", "The Matrix", "Black Panther", "Interstellar", "Forrest Gump", "Toy Story", "Harry Potter", "Lord of the Rings", "Avengers", "Jurassic Park", "Star Wars", "Pulp Fiction", "Joker"]
        } 
      },
      { dica: { pt: "Jogos", en: "Games" },
        palavras: { 
          pt: ["Minecraft", "Fortnite", "Subway Surfers", "FIFA", "Call of Duty", "Tetris", "PUBG", "Roblox", "Grand Theft Auto", "League of Legends", "Valorant", "Clash Royale", "Free Fire"],
          en: ["Minecraft", "Fortnite", "Subway Surfers", "FIFA", "Call of Duty", "Tetris", "PUBG", "Roblox", "Grand Theft Auto", "League of Legends", "Valorant", "Clash Royale", "Free Fire"]
        } 
      },
      { dica: { pt: "Redes Sociais", en: "Social Media" }, 
        palavras: { 
          pt: ["WhatsApp", "Instagram", "Facebook", "TikTok", "YouTube", "X", "LinkedIn", "Snapchat", "Reddit", "Pinterest", "Discord", "Telegram", "Threads"],
          en: ["WhatsApp", "Instagram", "Facebook", "TikTok", "YouTube", "X", "LinkedIn", "Snapchat", "Reddit", "Pinterest", "Discord", "Telegram", "Threads"]
        } 
      },

      // Lideran√ßa & Hist√≥ria
      { dica: { pt: "Presidentes", en: "Presidents" }, 
        palavras: { 
          pt: ["Joe Biden", "Luiz In√°cio Lula", "Emmanuel Macron", "Nelson Mandela", "Barack Obama", "Xi Jinping", "Vladimir Putin", "Angela Merkel", "Justin Trudeau", "Cyril Ramaphosa", "Paul Kagame", "Ellen Johnson Sirleaf", "Michelle Bachelet"],
          en: ["Joe Biden", "Lula", "Emmanuel Macron", "Nelson Mandela", "Barack Obama", "Xi Jinping", "Vladimir Putin", "Angela Merkel", "Justin Trudeau", "Cyril Ramaphosa", "Paul Kagame", "Ellen Johnson Sirleaf", "Michelle Bachelet"]
        } 
      },
      { dica: { pt: "L√≠deres Hist√≥ricos", en: "Historical Leaders" }, 
        palavras: { 
          pt: ["Napole√£o", "Cle√≥patra", "Gengis Khan", "Rainha Elizabeth", "Julius C√©sar", "Shaka Zulu", "D. Jo√£o VI", "Samora Machel", "Martin Luther King", "Mahatma Gandhi", "Winston Churchill", "Joan of Arc", "Malcolm X", "Patrice Lumumba"],
          en: ["Napoleon", "Cleopatra", "Genghis Khan", "Queen Elizabeth", "Julius Caesar", "Shaka Zulu", "King John VI", "Samora Machel", "Martin Luther King", "Mahatma Gandhi", "Winston Churchill", "Joan of Arc", "Malcolm X", "Patrice Lumumba"]
        } 
      },
      { dica: { pt: "Fil√≥sofos", en: "Philosophers" }, 
        palavras: { 
          pt: ["Plat√£o", "Arist√≥teles", "S√≥crates", "Descartes", "Nietzsche", "Kant", "Conf√∫cio", "Sartre", "Voltaire", "Hume", "Spinoza", "Simone de Beauvoir", "Frantz Fanon", "Am√≠lcar Cabral"],
          en: ["Plato", "Aristotle", "Socrates", "Descartes", "Nietzsche", "Kant", "Confucius", "Sartre", "Voltaire", "Hume", "Spinoza", "Simone de Beauvoir", "Frantz Fanon", "Am√≠lcar Cabral"]
        } 
      },

      // Mo√ßambique & √Åfrica
      { dica: { pt: "Cidades de Mo√ßambique", en: "Cities of Mozambique" }, 
        palavras: { 
          pt: ["Maputo", "Beira", "Nampula", "Inhassoro", "Vilankulo", "Tete", "Pemba", "Quelimane", "Xai-Xai", "Chimoio", "Lichinga", "Nacala", "Montepuez", "Ilha de Mo√ßambique"],
          en: ["Maputo", "Beira", "Nampula", "Inhassoro", "Vilankulo", "Tete", "Pemba", "Quelimane", "Xai-Xai", "Chimoio", "Lichinga", "Nacala", "Montepuez", "Ilha de Mo√ßambique"]
        } 
      },
      { dica: { pt: "L√≠nguas de Mo√ßambique", en: "Languages of Mozambique" }, 
        palavras: { 
          pt: ["Portugu√™s", "Xichangana", "Xitswa", "Sena", "Cisena", "Cinyanja", "Cironga", "Kimwani", "Elomwe", "Cishona", "Ciyao", "Cindau", "Cimakhuwa", "Cinguni"],
          en: ["Portuguese", "Xichangana", "Xitswa", "Sena", "Cisena", "Cinyanja", "Cironga", "Kimwani", "Elomwe", "Cishona", "Ciyao", "Cindau", "Cimakhuwa", "Cinguni"]
        } 
      },
      { dica: { pt: "Pa√≠s", en: "Country" },
        palavras: { 
          pt: ["Mo√ßambique", "√Åfrica do Sul", "Nig√©ria", "Qu√™nia", "Egito", "Angola", "Zimb√°bue", "Tanz√¢nia", "Gana", "Marrocos", "Arg√©lia", "Eti√≥pia", "Uganda", "Costa do Marfim"],
          en: ["Mozambique", "South Africa", "Nigeria", "Kenya", "Egypt", "Angola", "Zimbabwe", "Tanzania", "Ghana", "Morocco", "Algeria", "Ethiopia", "Uganda", "Ivory Coast"]
        } 
      },

      // üá™üá∫ Europa
      { dica: { pt: "Pa√≠s", en: "Country" },
        palavras: { 
          pt: ["Fran√ßa", "Alemanha", "It√°lia", "Espanha", "Portugal", "Reino Unido", "Su√©cia", "Gr√©cia", "Holanda", "B√©lgica", "Su√≠√ßa", "√Åustria", "Irlanda", "Noruega", "Finl√¢ndia"],
          en: ["France", "Germany", "Italy", "Spain", "Portugal", "United Kingdom", "Sweden", "Greece", "Netherlands", "Belgium", "Switzerland", "Austria", "Ireland", "Norway", "Finland"]
        } 
      },
      { dica: { pt: "Marca", en: "Brand" },
        palavras: { 
          pt: ["Zara", "H&M", "Gucci", "Louis Vuitton", "BMW", "Mercedes", "Nokia", "Spotify", "IKEA", "Volvo", "Lego", "ASOS", "Boohoo", "Decathlon"],
          en: ["Zara", "H&M", "Gucci", "Louis Vuitton", "BMW", "Mercedes", "Nokia", "Spotify", "IKEA", "Volvo", "Lego", "ASOS", "Boohoo", "Decathlon"]
        } 
      },

      // üåê Internet Moderna
      { dica: { pt: "Internet", en: "Internet" },
        palavras: { 
          pt: ["Hashtag", "Emoji", "Link", "Senha", "Wi-Fi", "Nuvem", "Download", "Streaming", "Upload", "Browser", "Cookie", "Firewall", "Blockchain", "Metaverso"],
          en: ["Hashtag", "Emoji", "Link", "Password", "Wi-Fi", "Cloud", "Download", "Streaming", "Upload", "Browser", "Cookie", "Firewall", "Blockchain", "Metaverse"]
        } 
      },
      { dica: { pt: "Plataformas", en: "Platforms" },
        palavras: { 
          pt: ["Netflix", "Spotify", "Zoom", "Google Meet", "Discord", "Telegram", "PayPal", "Amazon", "eBay", "AliExpress", "Steam", "Epic Games", "OnlyFans"],
          en: ["Netflix", "Spotify", "Zoom", "Google Meet", "Discord", "Telegram", "PayPal", "Amazon", "eBay", "AliExpress", "Steam", "Epic Games", "OnlyFans"]
        } 
      }
    ];

    let jogadores = [];
    let indiceAtual = 0;
    let dicaAtual = "";
    let palavraSecreta = "";
    let impostores = [];

    function atualizarTextos() {
      document.title = textos[lang].title;
      document.getElementById('txt1').innerText = textos[lang].txt1;
      document.getElementById('txt2').innerText = textos[lang].txt2;
      document.getElementById('btnRevelar').innerText = textos[lang].revealBtn;
      document.getElementById('langBtn').innerText = textos[lang].langBtn;
      
      const rules = {
        pt: {
          title: "A.J   üìú Regras do Jogo",
          howToPlay: "Como jogar:",
          steps: [
            "Escolha entre 3 e 50 jogadores.",
            "Cada jogador, um por vez, clica em \"Revelar Minha Palavra\".",
            "A maioria v√™ uma <strong>palavra secreta real</strong> (ex: \"A.J\").",
            "Os <strong>impostores</strong> veem apenas <strong>\"IMPOSTOR X de Y\"</strong> ‚Äî n√£o sabem a palavra real."
          ],
          discussion: "Discuss√£o e vota√ß√£o:",
          discussionRules: [
            "Discutam em <strong>3 rodadas</strong> para adivinhar quem √© o impostor.",
            "Se votarem em algu√©m, e n√£o for impostor, essa pessoa √© <strong>eliminada</strong> e o jogo continua.",
          ],
          specialRules: "Regras especiais:",
          specialRulesList: [
            "Se houver <strong>mais de 1 impostor</strong> e um for descoberto, <strong>ele deve dizer</strong>:<br>&nbsp;&nbsp;&nbsp;&nbsp;<em>\"H√° mais impostores!\"</em><br>&nbsp;&nbsp;&nbsp;&nbsp;‚Üí D√°-se <strong>mais uma rodada de dicas</strong> para encontrar os outros. Os impostores ganham quando s√£o apontados enquanto sabem a palavra: eles revelam a palavra."
          ],
                       },
        en: {
          title: "A.J   üìú Game Rules",
          howToPlay: "How to play:",
          steps: [
            "Choose between 3 and 50 players.",
            "Each player, one at a time, clicks \"Reveal My Word\".",
            "Most players see a <strong>real secret word</strong> (e.g., \"A.J\").",
            "The <strong>impostors</strong> only see <strong>\"IMPOSTOR X of Y\"</strong> ‚Äî they don't know the real word."
          ],
          discussion: "Discussion and voting:",
          discussionRules: [
            "Discuss for <strong>3 rounds</strong> to guess who the impostor is.",
            "If you vote someone and they are not impostor, that player is <strong>eliminated</strong> and the game continues.",
          ],
          specialRules: "Special rules:",
          specialRulesList: [
            "If there is <strong>more than 1 impostor</strong> and one is discovered, <strong>they must say</strong>:<br>&nbsp;&nbsp;&nbsp;&nbsp;<em>\"There are more impostors!\"</em><br>&nbsp;&nbsp;&nbsp;&nbsp;‚Üí You get <strong>an extra round of clues</strong> to find the others.Impostors win when they are pointed out while they know the word: they reveal the word."
          ],
                 }
      };

      const r = rules[lang];
      let rulesHTML = `<h2 class="rules-title">${r.title}</h2>`;
      rulesHTML += `<p><strong>${r.howToPlay}</strong></p><ol>`;
      r.steps.forEach(step => rulesHTML += `<li>${step}</li>`);
      rulesHTML += `</ol>`;

      rulesHTML += `<p><strong>${r.discussion}</strong></p><ul>`;
      r.discussionRules.forEach(rule => rulesHTML += `<li>${rule}</li>`);
      rulesHTML += `</ul>`;

      rulesHTML += `<p><strong>${r.specialRules}</strong></p><ul>`;
      r.specialRulesList.forEach(rule => rulesHTML += `<li>${rule}</li>`);
      rulesHTML += `</ul>`;

      rulesHTML += `<p><strong>${r.win}</strong></p>`;
      rulesHTML += `<ul><li>${r.crewWin}</li><li>${r.impostorWin}</li></ul>`;

      document.getElementById('rulesText').innerHTML = rulesHTML;
    }

    function toggleLang() {
      lang = lang === 'pt' ? 'en' : 'pt';
      atualizarTextos();
    }

    function abrirRegras() {
      document.getElementById('modalRegras').style.display = 'block';
    }

    function fecharRegras() {
      document.getElementById('modalRegras').style.display = 'none';
    }

    window.onclick = function(event) {
      const modal = document.getElementById('modalRegras');
      if (event.target === modal) {
        modal.style.display = 'none';
      }
    }

    function iniciarJogo() {
      const num = parseInt(document.getElementById('numJogadores').value);
      if (num < 3 || num > 50) {
        alert(lang === 'pt' ? "Escolha entre 3 e 50 jogadores!" : "Choose between 3 and 50 players!");
        return;
      }

      jogadores = Array.from({length: num}, (_, i) => 
        lang === 'pt' ? `Jogador ${i + 1}` : `Player ${i + 1}`
      );
      document.getElementById('tela1').classList.add('hidden');
      document.getElementById('tela2').classList.remove('hidden');
      novaPartida();
    }

    function novaPartida() {
      document.getElementById('exibicao').innerHTML = "";
      document.getElementById('proximoJogador').innerText = `${textos[lang].next}${jogadores[0]}`;
      
      const btn = document.getElementById('btnRevelar');
      btn.style.display = 'block';
      btn.disabled = false;
      btn.innerText = textos[lang].revealBtn;

      const fim = document.getElementById('botoesFim');
      if (fim) fim.remove();

      const tema = temasFixos[Math.floor(Math.random() * temasFixos.length)];
      dicaAtual = tema.dica[lang];
      palavraSecreta = tema.palavras[lang][Math.floor(Math.random() * tema.palavras[lang].length)];

      const total = jogadores.length;
      const numImp = total <= 5 ? 1 :
                     total <= 10 ? 2 :
                     total <= 20 ? 3 :
                     Math.min(5, Math.floor(total / 6));

      impostores = Array(total).fill(false);
      let cont = 0;
      while (cont < numImp) {
        const i = Math.floor(Math.random() * total);
        if (!impostores[i]) {
          impostores[i] = true;
          cont++;
        }
      }

      indiceAtual = 0;
    }

    function revelar() {
      const display = document.getElementById('exibicao');
      const btn = document.getElementById('btnRevelar');

      if (impostores[indiceAtual]) {
        const ordem = impostores.slice(0, indiceAtual + 1).filter(x => x).length;
        const totalImp = impostores.filter(x => x).length;
        display.innerHTML = `
          <span style="color:#ff3366; text-shadow:0 0 12px #ff3366; font-size:22px;">‚ö†Ô∏è ${textos[lang].impostor} ${ordem} ${textos[lang].of} ${totalImp}</span><br>
          <small style="color:#aaa; margin-top:8px; display:block;">Dica: ${dicaAtual}</small>
        `;
      } else {
        display.innerHTML = `
          <span style="color:#00ffaa; text-shadow:0 0 12px #00ffaa; font-size:24px;">${palavraSecreta}</span><br>
          <small style="color:#aaa; margin-top:8px; display:block;">Dica: ${dicaAtual}</small>
        `;
      }

      btn.disabled = true;
      setTimeout(() => {
        indiceAtual++;
        if (indiceAtual >= jogadores.length) {
          display.innerHTML = `<span class="glow" style="font-size:20px;">${textos[lang].discussion}</span>`;
          btn.style.display = 'none';
          mostrarBotoesFim();
        } else {
          btn.disabled = false;
          btn.innerText = textos[lang].revealBtn;
          display.innerHTML = "";
          document.getElementById('proximoJogador').innerText = `${textos[lang].next}${jogadores[indiceAtual]}`;
        }
      }, 5000);
    }

    function mostrarBotoesFim() {
      const div = document.createElement('div');
      div.id = 'botoesFim';
      div.className = 'btn-group';

      const btn1 = document.createElement('button');
      btn1.innerText = textos[lang].newGame;
      btn1.onclick = novaPartida;

      const btn2 = document.createElement('button');
      btn2.innerText = textos[lang].newGroup;
      btn2.onclick = voltarParaInicio;

      div.appendChild(btn1);
      div.appendChild(btn2);
      document.getElementById('tela2').appendChild(div);
    }

    function voltarParaInicio() {
      jogadores = [];
      indiceAtual = 0;
      dicaAtual = "";
      palavraSecreta = "";
      impostores = [];

      document.getElementById('tela2').classList.add('hidden');
      document.getElementById('tela1').classList.remove('hidden');

      const fim = document.getElementById('botoesFim');
      if (fim) fim.remove();
    }

    atualizarTextos();
  </script>
</body>

</html>
